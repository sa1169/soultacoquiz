<!DOCTYPE html>
<html>
<head>
<title>Which Austin Musical Group...</title>
<style>
body {
background-color: lightblue;
font-family: Helvetica;
}

#main {
width: 60%;
border: 1px gray solid;
margin: auto;
padding: 10px;
background-color: white;
border-radius: 10px;
}

#header {
margin-top: 0;
border: 2px solid black;
padding: 5px;
height: 250px;

}
</style>
</head>
<body>
<div id="main">
<div id="header"><h1>Which Austin musical act are you most like?</h1></div>
<table>
<form  id="form1" />
<tr><td>
<p>How old are you?</p></td><td>
<input type="radio" name="age"  value="quiet" />under 18</td><td>
<input type="radio" name="age"  value="spoon" />19-34 </td><td>
<input type="radio" name="age"  value="willie" />34+
</td></tr>
<tr><td>
<p>What would you prefer to do?</p></td><td>
<input type="radio" name="activity"  value="quiet" />Party</td><td>
<input type="radio" name="activity"  value="spoon" />Rock out</td><td>
<input type="radio"  name="activity" value="willie" />Drink beer
</td></tr>
<tr><td>
<p>What's your favorite style of music?</p></td><td>
<input type="radio" name="genre" value="quiet" />Rock</td><td>
<input type="radio" name="genre" value="spoon" />Indie</td><td>
<input type="radio" name="genre" value="willie" />Country</td>
</tr>
<tr><td>
<br />
<input type="submit" value="Submit">
</td></tr>
</form>
</table>
<p id="answer"></p>
<p id="answer2"></p>
<p id="answer3"></p>
<p id="answer4"></p>

</div>
<script>
 
    
	document.getElementById("form1").onsubmit=function() {
	   
	  age = document.querySelector('input[name = "age"]:checked').value;
	   
	  
	  activity = document.querySelector('input[name = "activity"]:checked').value;
	   
	  genre = document.querySelector('input[name = "genre"]:checked').value;
	    
	  // initialize score variables 
	  quiet = 0;
	  spoon = 0;
	  willie = 0;
	  
	  //function to calculate score for each question
	  function eachscore(x){
	  if(x == "quiet") { quiet = quiet + 1}
	  if(x == "spoon") { spoon = spoon + 1}
	  if(x == "willie") { willie = willie + 1}
	  }
	  // for the above function, you could also change the 1 to a variable so you could give more points for certain questions
	  
	  //call function for each question
	  eachscore(eval("age"));
	  eachscore(eval("activity"));
	  eachscore(eval("genre"));
	  
	  
	  
	  //document.getElementById("answer").innerHTML = quiet;
	  //document.getElementById("answer2").innerHTML = spoon;
	  //document.getElementById("answer3").innerHTML = willie;
	  
	  all = [quiet, spoon, willie];
	  
	//get the max score  in the array
	maxscore = Math.max.apply(Math,all);
	
    //figure out which score is the max score by identifying its index number
	for(i=0; i<all.length; i++) {
	if(all[i]==maxscore) {
	highest = i;
	}
	}
	

// object holding scores and feedback	
scores = [{index:0, feedback: "You got Quiet Company"},
{index:1, feedback: "You got Spoon"},
{index:2, feedback: "You got Willie Nelson"}];


//loop to match index to score and reply with feedback
for(i=0;i<scores.length; i++) {
if(highest == scores[i].index) {
document.getElementById("answer4").innerHTML = scores[i].feedback;
}
}

	   
	  /* Old scoring method
	   total= age + activity + genre;
	   
	  
	   document.getElementById("answer").innerHTML = total;
	   
	   

	   if(total < 4) {
document.getElementById("answer2").innerHTML = "You got Quiet Company.";
}

   if(total >=4 && total < 7) {
document.getElementById("answer2").innerHTML = "You got Spoon.";
}
	
	if(total >=7) {
document.getElementById("answer2").innerHTML = "You got Willie Nelson.";
}   
*/


		   
	   return false; // required to not refresh the page; just leave this here
	   }// end the submit function
	

</script>



</body>
</html>

